{"version":3,"sources":["components/Document/document.style.js","components/Document/Document.js","components/App/app.style.js","components/App/App.js","index.js"],"names":["styled","div","nav","fetchEndpoints","endpoint","a","axios","method","url","endpoints","types","PdFDocument","setLoading","useState","products","setProducts","useEffect","fetchFunction","all","map","productsArray","productArray","data","flat","styles","StyleSheet","create","PageContent","display","flexDirection","alignItems","justifyContent","width","ProductsContainer","margin","ProductsContainerH1","textDecoration","fontSize","ProductTitleContainer","textAlign","ProductTitleContainerH2","marginBottom","ProductTitleContainerH3","ProductContent","padding","style","type","index","id","product","title","rendered","meta","prix","content","replace","PDFDownloadLinkStyled","PDFDownloadLink","props","disabled","css","App","loading","document","fileName","ReactDOM","render","getElementById"],"mappings":"6WAE4BA,IAAOC,IAAV,6IAQGD,IAAOE,IAAV,mVAkBQF,IAAOC,IAAV,8MAaED,IAAOC,IAAV,wTAiBQD,IAAOC,IAAV,0P,MC1C5BE,EAAc,uCAAG,WAAOC,GAAP,SAAAC,EAAA,sEACRC,IAAM,CACjBC,OAAQ,MACRC,IAAI,oCAAD,OAAsCJ,EAAtC,6CAHgB,mFAAH,sDAOdK,EAAY,CAChB,SACA,gBACA,mBACA,WACA,WACA,gBAGIC,EAAQ,CACZ,QACA,YACA,kBACA,YACA,WACA,YAmIaC,EAjIK,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WACrB,EAAgCC,mBAAS,IAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACAC,qBAAU,WACRJ,GAAW,GACX,IAAMK,EAAa,uCAAG,4BAAAZ,EAAA,sEACQC,IAAMY,IAChCT,EAAUU,KAAI,SAACf,GAAD,OAAcD,EAAeC,OAFzB,OACdgB,EADc,OAIpBL,EACEK,EAAcD,KAAI,SAACE,GAAD,OAAkBA,EAAaC,QAAMC,QAEzDX,GAAW,GAPS,2CAAH,qDASnBK,MACC,IAEH,IAAMO,EAASC,aAAWC,OAAO,CAC/BC,YAAa,CACXC,QAAS,OACTC,cAAe,SACfC,WAAY,SACZC,eAAgB,SAChBC,MAAO,QAETC,kBAAmB,CACjBD,MAAO,OACPJ,QAAS,OACTC,cAAe,SACfC,WAAY,SACZI,OAAQ,QAEVC,oBAAqB,CACnBC,eAAgB,YAChBC,SAAU,QAEZC,sBAAuB,CACrBV,QAAS,OACTG,eAAgB,eAChBD,WAAY,SACZI,OAAQ,OACRK,UAAW,UAEbC,wBAAyB,CACvBC,aAAc,MACdF,UAAW,SACXF,SAAU,QAGZK,wBAAyB,CACvBL,SAAU,OACVE,UAAW,UAEbI,eAAgB,CACdT,OAAQ,OACRG,SAAU,OACVL,MAAO,MACPO,UAAW,SACXK,QAAS,SAGb,OACE,cAAC,WAAD,UACE,cAAC,OAAD,UACE,cAAC,OAAD,CAAMC,MAAOrB,EAAOG,YAApB,SACGjB,EAAMS,KAAI,SAAC2B,EAAMC,GAAP,OACT,eAAC,OAAD,CAAkBC,GAAIF,EAAMD,MAAOrB,EAAOS,kBAA1C,UACE,cAAC,OAAD,CAAMY,MAAOrB,EAAOW,oBAApB,SACY,cAATW,EAAuB,QAAUA,IAEnChC,EAASK,KACR,SAAC8B,GAAD,OACEA,EAAO,OAAaH,GAClB,eAAC,OAAD,CAAuBD,MAAOrB,EAAOS,kBAArC,UACE,eAAC,OAAD,CAAMY,MAAOrB,EAAOc,sBAApB,UACE,cAAC,OAAD,CAAMO,MAAOrB,EAAOgB,wBAApB,SACGS,EAAQC,MAAMC,WAEjB,eAAC,OAAD,CAAMN,MAAOrB,EAAOkB,wBAApB,UACGO,EAAQG,KAAKC,KADhB,IACsB,iDAGxB,cAAC,OAAD,CAAMR,MAAOrB,EAAOmB,eAApB,SACGM,EAAQK,QAAQH,SAASI,QAAQ,gBAAiB,QAV5CN,EAAQD,SAPhBD,aC5FVS,EAAwBxD,YAAOyD,kBAAPzD,CAAH,gPAThB,SAAC0D,GACjB,GAAIA,EAAMC,SACR,OAAOC,YAAP,0FCYWC,EAfH,WACV,MAA8BhD,oBAAS,GAAvC,mBAAOiD,EAAP,KAAgBlD,EAAhB,KACA,OACE,8BACE,cAAC4C,EAAD,CACEG,SAAUG,EACVC,SAAU,cAAC,EAAD,CAAcnD,WAAYA,IACpCoD,SAAS,gBAHX,SAKGF,EAAU,UAAY,mBCP/BG,IAASC,OAAO,cAAC,EAAD,IAASH,SAASI,eAAe,W","file":"static/js/main.97dc33f1.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nexport const AppContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n`;\n\nexport const NavContainer = styled.nav`\n  width: 100%;\n  ul {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-wrap: wrap;\n    li {\n      display: inline-block;\n      margin-right: 12px;\n      border: 1px solid black;\n      padding: 1.5em;\n      text-align: center;\n      border-radius: 80px;\n    }\n  }\n`;\n\nexport const ProductsContainer = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin: auto;\n\n  h1 {\n    text-decoration: underline;\n  }\n`;\n\nexport const ProductContainer = styled.div`\n  border: 1px solid black;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  justify-content: center;\n  width: 80%;\n  margin-bottom: 12px;\n  p {\n    margin: auto;\n    font-size: 1.5rem;\n    width: 60%;\n    text-align: center;\n    padding: 8px;\n  }\n`;\n\nexport const ProductTitleContainer = styled.div`\n  display: flex;\n  justify-content: space-around;\n  flex-direction: column;\n  align-items: center;\n  margin: auto;\n\n  h2 {\n    margin-bottom: 8px;\n    text-align: center;\n  }\n  h3 {\n    font-size: 1.5rem;\n  }\n`;\n","import {\n  Document,\n  Link,\n  Page,\n  StyleSheet,\n  Text,\n  View,\n} from \"@react-pdf/renderer\";\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport {\n  AppContainer,\n  NavContainer,\n  ProductsContainer,\n  ProductTitleContainer,\n} from \"./document.style\";\nconst fetchEndpoints = async (endpoint) => {\n  return await axios({\n    method: \"GET\",\n    url: `https://le-tdo.com/wp-json/wp/v2/${endpoint}?status[]=publish&per_page=50&order=asc`,\n  });\n};\n\nconst endpoints = [\n  \"pizzas\",\n  \"les_antipasti\",\n  \"ptes_et_risottos\",\n  \"tagliate\",\n  \"la_carne\",\n  \"les_desserts\",\n];\n\nconst types = [\n  \"Pizze\",\n  \"Antipasti\",\n  \"Pasta e Risotti\",\n  \"Tagliates\",\n  \"La Carne\",\n  \"Desserts\",\n];\nconst PdFDocument = ({ setLoading }) => {\n  const [products, setProducts] = useState([]);\n  useEffect(() => {\n    setLoading(true);\n    const fetchFunction = async () => {\n      const productsArray = await axios.all(\n        endpoints.map((endpoint) => fetchEndpoints(endpoint))\n      );\n      setProducts(\n        productsArray.map((productArray) => productArray.data).flat()\n      );\n      setLoading(false);\n    };\n    fetchFunction();\n  }, []);\n\n  const styles = StyleSheet.create({\n    PageContent: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      width: \"100%\",\n    },\n    ProductsContainer: {\n      width: \"100%\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      margin: \"12px\",\n    },\n    ProductsContainerH1: {\n      textDecoration: \"underline\",\n      fontSize: \"30px\",\n    },\n    ProductTitleContainer: {\n      display: \"flex\",\n      justifyContent: \"space-around\",\n      alignItems: \"center\",\n      margin: \"auto\",\n      textAlign: \"center\",\n    },\n    ProductTitleContainerH2: {\n      marginBottom: \"8px\",\n      textAlign: \"center\",\n      fontSize: \"24px\",\n    },\n\n    ProductTitleContainerH3: {\n      fontSize: \"24px\",\n      textAlign: \"center\",\n    },\n    ProductContent: {\n      margin: \"auto\",\n      fontSize: \"18px\",\n      width: \"80%\",\n      textAlign: \"center\",\n      padding: \"8px\",\n    },\n  });\n  return (\n    <Document>\n      <Page>\n        <View style={styles.PageContent}>\n          {types.map((type, index) => (\n            <View key={index} id={type} style={styles.ProductsContainer}>\n              <Text style={styles.ProductsContainerH1}>\n                {type === \"Tagliates\" ? \"Pesce\" : type}\n              </Text>\n              {products.map(\n                (product) =>\n                  product[\"type\"] === type && (\n                    <View key={product.id} style={styles.ProductsContainer}>\n                      <View style={styles.ProductTitleContainer}>\n                        <Text style={styles.ProductTitleContainerH2}>\n                          {product.title.rendered}\n                        </Text>\n                        <Text style={styles.ProductTitleContainerH3}>\n                          {product.meta.prix} <small>€</small>\n                        </Text>\n                      </View>\n                      <Text style={styles.ProductContent}>\n                        {product.content.rendered.replace(/(<([^>]+)>)/gi, \"\")}\n                      </Text>\n                    </View>\n                  )\n              )}\n            </View>\n          ))}\n        </View>\n        {/* <AppContainer>\n          <NavContainer>\n            <ul>\n              {types.map((type) => (\n                <li key={type}>\n                  <a href={`#${type}`}>\n                    {type === \"Tagliates\" ? \"Pesce\" : type}\n                  </a>\n                </li>\n              ))}\n            </ul>\n          </NavContainer>\n          {types.map((type, index) => (\n            <ProductsContainer key={index} id={type}>\n              <h1>{type === \"Tagliates\" ? \"Pesce\" : type}</h1>\n              {products.map(\n                (product) =>\n                  product[\"type\"] === type && (\n                    <ProductsContainer key={product.id}>\n                      <ProductTitleContainer>\n                        <h2>{product.title.rendered}</h2>\n                        <h3>\n                          {product.meta.prix} <small>€</small>\n                        </h3>\n                      </ProductTitleContainer>\n                      <p>\n                        {product.content.rendered.replace(/(<([^>]+)>)/gi, \"\")}\n                      </p>\n                    </ProductsContainer>\n                  )\n              )}\n            </ProductsContainer>\n          ))}\n        </AppContainer> */}\n      </Page>\n    </Document>\n  );\n};\n\nexport default PdFDocument;\n","import { PDFDownloadLink } from \"@react-pdf/renderer\";\nimport styled from \"styled-components\";\nimport { css } from \"styled-components\";\n\nconst isLoading = (props) => {\n  if (props.disabled) {\n    return css`\n      background-color: grey;\n      cursor: default;\n    `;\n  }\n};\n\nexport const PDFDownloadLinkStyled = styled(PDFDownloadLink)`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 25px auto;\n  width: 50%;\n  border: 5px solid black;\n  background-color: blue;\n  color: white;\n  text-decoration: none;\n  ${isLoading}\n`;\n","import React, { useState } from \"react\";\nimport PdfDocucment from \"../Document/Document\";\nimport { PDFDownloadLinkStyled } from \"./app.style\";\nconst App = () => {\n  const [loading, setLoading] = useState(false);\n  return (\n    <div>\n      <PDFDownloadLinkStyled\n        disabled={loading}\n        document={<PdfDocucment setLoading={setLoading} />}\n        fileName=\"carte-tdo.pdf\"\n      >\n        {loading ? \"Loading\" : \"Telecharger\"}\n      </PDFDownloadLinkStyled>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}